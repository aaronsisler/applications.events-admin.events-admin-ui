<app-event-selector
  (eventSelectedEmitter)="handleEmittedEvent($event)"
></app-event-selector>

<hr />
<app-scheduled-event-list></app-scheduled-event-list>
<hr />

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <button mat-raised-button color="primary" type="submit">Submit</button>
  <div formArrayName="items">
    <div
      *ngFor="let group of items.controls; let i = index"
      [formGroupName]="i"
    >
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Name {{ i + 1 }}</mat-label>
        <input matInput formControlName="name" placeholder="Enter name" />
      </mat-form-field>
      &nbsp;
      <mat-form-field>
        <mat-label>Select an scheduled event type</mat-label>
        <mat-select formControlName="scheduledEventType">
          <mat-option [value]="null">-- Select --</mat-option>
          @for (scheduledEventType of scheduledEventTypeOptions; track $index) {
          <mat-option [value]="scheduledEventType">{{
            scheduledEventType
          }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      &nbsp;
      <mat-form-field>
        <mat-label>Select an scheduled event interval</mat-label>
        <mat-select formControlName="scheduledEventInterval">
          <mat-option [value]="null">-- Select --</mat-option>
          @for (scheduledEventInterval of scheduledEventIntervalOptions; track
          $index) {
          <mat-option [value]="scheduledEventInterval">{{
            scheduledEventInterval
          }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      &nbsp;
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Category {{ i + 1 }}</mat-label>
        <input
          matInput
          formControlName="category"
          placeholder="Enter category"
        />
      </mat-form-field>
      &nbsp;
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Description {{ i + 1 }}</mat-label>
        <input
          matInput
          formControlName="description"
          placeholder="Enter description"
        />
      </mat-form-field>
      &nbsp;

      <button
        mat-icon-button
        color="warn"
        type="button"
        (click)="removeItem(i)"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>
</form>
