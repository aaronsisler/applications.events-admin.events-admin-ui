(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{5245:function(e,t,n){Promise.resolve().then(n.bind(n,9846))},8504:function(e,t,n){"use strict";var u=n(3226);n.o(u,"useRouter")&&n.d(t,{useRouter:function(){return u.useRouter}})},3959:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var u=n(7821);let r=e=>{let{name:t,onBlur:n,placeholder:r,register:c,error:s}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{className:"ml-1 mb-3 border-2 border-slate-300",type:"text",placeholder:r,...c(t,{onBlur:n})}),s&&(0,u.jsx)("span",{className:"error-message",children:s.message})]})}},9846:function(e,t,n){"use strict";n.d(t,{EventScheduleForm:function(){return f}});var u=n(7821),r=n(8078),c=n(8504),s=n(8113),d=n(746),l=n(4089),i=n(9912),o=n(3959),a=n(3181),v=n(4829),h=n(3291);let E=(0,i.Ry)({name:(0,i.Z_)().min(1,{message:"Required"}),description:(0,i.Z_)()}),f=()=>{let e=(0,s.v9)(a.i2),[t,{isError:n}]=(0,v.D3)(),i=(0,s.I0)(),f=(0,c.useRouter)(),{register:m,handleSubmit:p,formState:{errors:S},reset:g}=(0,d.cI)({resolver:(0,l.F)(E)}),I=async n=>{let{name:u,description:r}=n,{data:c,error:s}=await t({clientId:e,eventSchedules:[{clientId:e,name:u,description:r}]});if(void 0==s&&g(),void 0!=c&&(null==c?void 0:c.length)>0){let[e]=c;i((0,h.JY)(null==e?void 0:e.eventScheduleId)),f.push("/event-schedule/populate")}};return(0,u.jsxs)("form",{onSubmit:p(e=>{let{name:t,description:n}=e;return I({name:t,description:n})}),children:[(0,u.jsx)("br",{}),n&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)("div",{children:"Something went wrong during submission!"}),(0,u.jsx)("br",{})]}),(0,u.jsx)(o.C,{placeholder:"Event Schedule Name",name:"name",register:m,error:S.name}),(0,u.jsx)("br",{}),(0,u.jsx)(o.C,{placeholder:"Event Schedule Description",name:"description",register:m,error:S.description}),(0,u.jsx)("br",{}),(0,u.jsx)("input",{className:"btn btn-blue mt-5",type:"submit",value:"Create Event Schedule"})]})}},621:function(e,t,n){"use strict";n.d(t,{$F:function(){return v},CT:function(){return u},DP:function(){return l},E1:function(){return h},JM:function(){return s},VF:function(){return i},_N:function(){return a},c7:function(){return r},d_:function(){return d},gM:function(){return o},sY:function(){return c}});let u="http://localhost:8080",r="http://localhost:4566/event-admin-service-file-storage",c="clients",s="event-schedules",d="events",l="locations",i="organizers",o="published-event-schedules",a="scheduled-events",v="users",h="aaron-sisler-id"},3181:function(e,t,n){"use strict";n.d(t,{Xk:function(){return c},i2:function(){return s},vI:function(){return u}});let u=(0,n(6502).oM)({name:"common",initialState:{clientId:""},reducers:{setClientId:(e,t)=>({...e,clientId:t.payload}),clearClientId:e=>({...e,clientId:""})},selectors:{getClientId:e=>e.clientId}}),{clearClientId:r,setClientId:c}=u.actions;u.reducer;let{getClientId:s}=u.selectors},4829:function(e,t,n){"use strict";n.d(t,{D3:function(){return l},JF:function(){return d},i5:function(){return s}});var u=n(549),r=n(7372),c=n(621);let s=(0,u.LC)({baseQuery:(0,r.ni)({baseUrl:"".concat(c.CT,"/")}),reducerPath:"eventScheduleApi",tagTypes:["Event Schedule"],endpoints:e=>({getAllEventSchedules:e.query({query:e=>"".concat(c.sY,"/").concat(e,"/").concat(c.JM),providesTags:["Event Schedule"]}),postEventSchedules:e.mutation({query:e=>{let{clientId:t,eventSchedules:n}=e;return{url:"".concat(c.sY,"/").concat(t,"/").concat(c.JM),method:"POST",body:n}},invalidatesTags:["Event Schedule"]})})}),{useGetAllEventSchedulesQuery:d,usePostEventSchedulesMutation:l}=s},3291:function(e,t,n){"use strict";n.d(t,{GV:function(){return o},JY:function(){return l},R0:function(){return d},au:function(){return r},cT:function(){return a},qU:function(){return u},t4:function(){return v}});let u=(0,n(6502).oM)({name:"eventSchedule",initialState:{eventScheduleId:"",scheduledEvents:[]},reducers:{setEventScheduleId:(e,t)=>({...e,eventScheduleId:t.payload}),clearEventScheduleId:e=>({...e,eventScheduleId:""}),clearScheduledEvents:e=>({...e,scheduledEvents:[]}),addScheduledEvent(e,t){let{payload:n}=t;return{...e,scheduledEvents:e.scheduledEvents.concat(n)}},updateScheduledEventField(e,t){let{index:n,field:u,value:r}=t.payload;e.scheduledEvents[n]&&(e.scheduledEvents[n]={...e.scheduledEvents[n],[u]:r||void 0})},updateScheduledEvent(e,t){let{index:n,scheduledEvent:u}=t.payload;e.scheduledEvents[n]&&(e.scheduledEvents[n]={...u,scheduledEventInterval:u.scheduledEventInterval?u.scheduledEventInterval:void 0,scheduledEventDay:u.scheduledEventDay?u.scheduledEventDay:void 0,scheduledEventDate:u.scheduledEventDate?u.scheduledEventDate:void 0,cost:u.cost?u.cost:void 0})},removeScheduledEvent(e,t){let{payload:n}=t;return{...e,scheduledEvents:[...e.scheduledEvents.slice(0,n),...e.scheduledEvents.slice(n+1)]}}},selectors:{getEventScheduleId:e=>e.eventScheduleId,getScheduledEvents:e=>e.scheduledEvents}}),{addScheduledEvent:r,clearEventScheduleId:c,clearScheduledEvents:s,removeScheduledEvent:d,setEventScheduleId:l,updateScheduledEvent:i,updateScheduledEventField:o}=u.actions;u.reducer;let{getEventScheduleId:a,getScheduledEvents:v}=u.selectors}},function(e){e.O(0,[801,549,826,115,364,744],function(){return e(e.s=5245)}),_N_E=e.O()}]);